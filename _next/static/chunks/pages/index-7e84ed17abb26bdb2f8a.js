(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{536:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return D}});var r=n(9388),a=n(9096),i=n(4633),l=n(7383),o=n(9496),u=n(307),c=n(5794),d=n(3662),s=n(9970),f=n(29),p=n(1228),h=n(5722),m=n(7569),_=n(8654),y=o.createElement;function v(){return fetch.apply(void 0,arguments).then((function(t){return t.json()}))}function k(){var t=(0,_.ZP)("/data/raw/loadpara.json",v,{refreshInterval:3e5}),e=t.data;if(t.error)return y("div",null,"failed to load");if(!e)return y(c.M,{p:20},y(d.$,{size:"xl"}));var n=(0,u.Z)(e.records,3),r=n[0],i=r.curr_load,l=r.curr_util_rate,k=n[1],g=k.fore_maxi_sply_capacity,x=k.fore_peak_dema_load,w=(k.fore_peak_resv_capacity,k.fore_peak_resv_rate,k.fore_peak_resv_indicator),E=k.fore_peak_hour_range,b=k.publish_time,F=n[2];F.yday_date,F.yday_maxi_sply_capacity,F.yday_peak_dema_load,F.yday_peak_resv_capacity,F.yday_peak_resv_rate,F.yday_peak_resv_indicator;return y(o.Fragment,null,y(a.X,{as:"h4",size:"md",textAlign:"right"},"\u73fe\u6642 ",b,y("br",null),y(s.x,{as:"i",fontSize:"sm"},"\u8cc7\u6599\u4f86\u6e90\u6bcf\u5341\u5206\u9418\u81ea\u52d5\u66f4\u65b0")),y(f.M,{columns:[2,,4],spacing:10,py:20,as:p.pr},y(p.kN,null,y(p.dw,null,"\u76ee\u524d\u4f7f\u7528\u7387"),y(p.Jf,null," ",l,"%"),y(p.vh,null,"\u76ee\u524d\u7528\u96fb\u91cf ",i," \u842c\u74e9")),y(p.kN,null,y(p.dw,null,"\u5c16\u5cf0\u4f7f\u7528\u7387"),y(p.Jf,null,(100*x/g).toFixed(0),"%"),y(p.vh,null,"\u9810\u4f30\u6700\u9ad8\u7528\u96fb ",x," \u842c\u74e9")),y(p.kN,null,y(p.dw,null,"\u6700\u5927\u4f9b\u96fb\u80fd\u529b"),y(p.Jf,null,g," \u842c\u74e9"),y(p.vh,null,"\u9810\u4f30\u6700\u9ad8\u7528\u96fb\u6642\u6bb5 ",E)),y(p.kN,null,y(p.dw,null,"\u71c8\u865f"),y(p.Jf,null,y(h.Cd,{size:"40px",bg:{G:"green",Y:"yellow",O:"orange",R:"tomato",B:"black"}[w]})))),y(h.xu,{as:"pre",py:4,display:"none"},y(m.E,null,JSON.stringify(e,null,2))))}var g=n(9164),x=n(9202),w=n(5463),E=n(7698),b=n(6380),F=n(9767),C=n(666),Z=n(733),z=new Intl.DateTimeFormat("zh-TW",{timeZone:"Asia/Taipei",weekday:"narrow",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),A=o.createElement;function N(){return fetch.apply(void 0,arguments).then((function(t){return t.text().then((function(e){return{lastModified:new Date(t.headers.get("last-modified")),table:e.split("\n").flatMap((function(t){var e=t.trim();return e&&","!==e?[t.split(",")]:[]}))}}))}))}function S(){var t=(0,_.ZP)("/data/raw/loadfueltype.csv",N,{refreshInterval:3e5}),e=t.data;return t.error?A("div",null,"failed to load"):e?A(o.Fragment,null,A(a.X,{as:"h4",size:"md",textAlign:"right"},"\u73fe\u6642 ",z.format(e.lastModified),A("br",null),A(s.x,{as:"i",fontSize:"sm"},"\u8cc7\u6599\u4f86\u6e90\u6bcf\u5341\u5206\u9418\u81ea\u52d5\u66f4\u65b0")),A(F.Z,{style:{minHeight:480}},(function(t){var n=t.width,r=t.height;return n>10&&A(W,{width:n,height:r,data:e.table})}))):A(c.M,{p:20},A(d.$,{size:"xl"}))}var P=[void 0,"#CC0099","#E65C00","#E6E600","#FFA347","#006600","#5EDFDF","#FF1919","#848484","#0000B2","#009933","#00CC00","#3366CC","#6699FF","#FACC2E"],M=Object.keys(P);M.shift();var O={top:40,right:30,bottom:50,left:40},I="#e0e0e0",J="#aaaaaa",T="#000000";function W(t){var e=t.width,n=t.height,r=t.data,a=t.margin,i=void 0===a?O:a,l=t.events,o=void 0!==l&&l,c=n-i.top-i.bottom,d=e-i.left-i.right,s=(0,C.Z)({range:[0,d],domain:[0,1440]}),f=(0,C.Z)({range:[c,0],domain:[0,-4e3]}),p=Array(8).fill(0).map((function(t,e){return 3*e*60}));return A("svg",{width:e,height:n},A("rect",{x:0,y:0,width:e,height:n,fill:"transparent",rx:14}),A(b.Z,{top:i.top,left:i.left},A(w.Z,{scale:f,width:d,height:c,stroke:I}),A(E.Z,{scale:s,tickValues:p,width:d,height:c,stroke:I}),A("text",{x:d-40,y:"-14",fontSize:14},"\u55ae\u4f4d\uff1a\u842c\u74e9"),A(Z.Z,{keys:M,data:r,x:function(t){var e;return null!==(e=s(function(t){var e=t[0].match(/^(\d{2})\:(\d{2})$/),n=(0,u.Z)(e,3),r=(n[0],n[1]),a=n[2];return 60*parseInt(r,10)+parseInt(a,10)}(t.data)))&&void 0!==e?e:0},y0:function(t){var e;return null!==(e=f(function(t){return-t[0]}(t)))&&void 0!==e?e:0},y1:function(t){var e;return null!==(e=f(function(t){return-t[1]}(t)))&&void 0!==e?e:0}},(function(t){var e=t.stacks,n=t.path;return e.map((function(t){return A("path",{key:"stack-".concat(t.key),d:n(t)||"",stroke:"transparent",fill:P[t.key],opacity:.6,onClick:function(){o&&alert("".concat(t.key))}})}))})),A(g.Z,{left:d,scale:f,stroke:J,tickStroke:T,tickFormat:function(t){return-1*t},tickLabelProps:function(){return{fill:T,fontSize:11,textAnchor:"end",dy:"0.33em"}}}),A(x.Z,{top:c,scale:s,stroke:J,tickValues:p,tickStroke:T,tickFormat:function(t){var e="".concat(Math.floor(t/60)),n="".concat(t%60);return"".concat(e.padStart(2,"0"),":").concat(n.padStart(2,"0"))},tickLabelProps:function(){return{fill:T,fontSize:11,textAnchor:"middle"}}})))}var X=o.createElement;function D(){return X(o.Fragment,null,X(r.W,{as:"header"},X(a.X,{size:"4xl",textAlign:"center",py:20},"\u53f0\u96fb\u8cc7\u8a0a\u93e1\u50cf\u7ad9")),X(r.W,{as:"main",maxW:"container.lg"},X(i.mQ,{isLazy:!0},X(i.td,null,X(i.OK,null,"\u4eca\u65e5\u96fb\u529b\u8cc7\u8a0a"),X(i.OK,null,"\u4eca\u65e5\u7528\u96fb\u66f2\u7dda\u5716")),X(i.nP,null,X(i.x4,null,X(k,null)),X(i.x4,null,X(S,null))))),X(r.W,{as:"footer",py:4,textAlign:"right"},X(l.r,{isExternal:!0,href:"https://vercel.com?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app"},"Powered by VERCEL"),"."," ",X(l.r,{isExternal:!0,href:"https://github.com/tomchentw"},"Author: @tomchentw")))}},2360:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(536)}])}},function(t){t.O(0,[396,736],(function(){return e=2360,t(t.s=e);var e}));var e=t.O();_N_E=e}]);